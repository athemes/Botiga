!function(m){"use strict";botiga.mstepc={init:function(){var t=this;return this.initialized=!1,setTimeout(function(){m(".botiga-mstepc-tabs-nav-item:first-child > a").trigger("click"),m("form.checkout .required, form.woocommerce-form-login .required").each(function(){m(this).closest(".form-row").find("input").attr("required",!0),m(this).closest(".form-row").find("select").attr("required",!0)}),t.initialized=!0},1e3),this.events(),this},events:function(){var p=this;return m(document).on("updated_checkout",function(){m(".woocommerce-checkout-payment input").each(function(){m(this).attr("required",!0)})}),m(".botiga-mstepc-tabs-nav-item > a").on("click",function(t){t.preventDefault();var e=m(this).data("step"),i=m(this).data("validate-selector").split(","),o=m(this).data("content-selector").split(","),a=m(".botiga-mstepc-tabs-nav-item"),s=m(this).parent(),n=m(this).parent().prev(),r=m(this).parent().next(),t=r.find("> a").data("step"),c=!1;if(i.forEach(function(t){m(t).is("form")&&(c=m(t).valid())}),c||n.hasClass("no-validation"))m(this).parent().prev().addClass("completed");else if(0===m('.botiga-mstepc-tabs-nav-item > a[data-step="billiing-shipping"]').parent().index)return!1;return!(!m(this).parent().prev().hasClass("completed")&&0!==m(this).parent().index())&&(!(!0===p.initialized&&!p.validateBeforeNext(i)&&0===m('.botiga-mstepc-tabs-nav-item > a[data-step="billiing-shipping"]').parent().index)&&(p.showNextStep(o),a.removeClass("previous-step current-step next-step"),s.addClass("current-step"),n.addClass("previous-step"),r.addClass("next-step"),m(".botiga-mstepc-footer").removeClass("login billing-shipping order-payment order-review").addClass(e),!0===p.initialized&&(m(".botiga-mstepc-wrapper .woocommerce-error").remove(),m(".botiga-mstepc-wrapper .woocommerce-message").remove()),void m(".botiga-mstepc-next").data("next-step",t)))}),m(".botiga-mstepc-next").on("click",function(t){t.preventDefault();var e=m(this).data("next-step"),i=m('.botiga-mstepc-tabs-nav-item > a[data-step="'+e+'"]').parent().prev().find("> a").data("step"),t=m('.botiga-mstepc-tabs-nav-item > a[data-step="'+e+'"]').parent().next().find("> a").data("step");if(!p.validateBeforeNext(m('.botiga-mstepc-tabs-nav-item > a[data-step="'+i+'"]').data("content-selector").split(",")))return!1;m('.botiga-mstepc-tabs-nav-item > a[data-step="'+e+'"]').trigger("click"),m(this).data("next-step",t),m(window).trigger("botiga.mstepc.next")}),m(".botiga-mstepc-skip-login").on("click",function(t){t.preventDefault(),p.showNextStep(["form.woocommerce-checkout"]),m(window).trigger("botiga.mstepc.hide.skip.login")}),m(window).on("botiga.mstepc.hide.skip.login",function(){m(".botiga-mstepc-skip-login").css("display","none")}),m(window).on("botiga.mstepc.show.skip.login",function(){m(".botiga-mstepc-skip-login").css("display","inline-block")}),m(".botiga-mstepc-place-order").on("click",function(t){t.preventDefault(),m("#place_order").trigger("click")}),this},validateBeforeNext:function(t){var i=!1;return t.forEach(function(t,e){m(t).is("form")&&(i=m(t).valid())}),i},showNextStep:function(t){m(".woocommerce-form-coupon-toggle,.woocommerce-form-login,form.woocommerce-checkout #customer_details,.checkout-wrapper,.woocommerce-form-coupon").removeClass("show showEffect"),t.forEach(function(t,e){m(t).addClass("show"),setTimeout(function(){m(t).addClass("showEffect")},300)})}},m(document).ready(function(){botiga.mstepc.init()})}(jQuery);