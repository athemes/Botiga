/**
 * Sticky-kit v1.1.3 | MIT | Leaf Corcoran 2015 | http://leafo.net
 * 
 * @cc_on 
 * 
 */
!function(){var P=window.jQuery,V=P(window);P.fn.stick_in_parent=function(t){var y,a,i,e,k,C=(t=null==t?{}:t).sticky_class,x=t.inner_scrolling,j=t.recalc_every,T=t.parent,D=t.offset_top,z=t.spacer,F=t.bottoming;for(null==D&&(D=0),null==T&&(T=void 0),null==x&&(x=!0),null==C&&(C="is_stuck"),y=P(document),null==F&&(F=!0),k=function(t){var a;return window.getComputedStyle?(t=window.getComputedStyle(t[0]),a=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(a+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),a):t.outerWidth(!0)},a=function(o,n,s,d,l,r,c,p){var h,t,g,u,b,m,f,v,a,w,_,e;if(!o.data("sticky_kit")){if(o.data("sticky_kit",!0),b=y.height(),f=o.parent(),!(f=null!=T?f.closest(T):f).length)throw"failed to find stick parent";if(h=g=!1,(_=null!=z?z&&o.closest(z):P("<div />"))&&_.css("position",o.css("position")),(v=function(){var t,a,i;if(!p&&(b=y.height(),t=parseInt(f.css("border-top-width"),10),a=parseInt(f.css("padding-top"),10),n=parseInt(f.css("padding-bottom"),10),s=f.offset().top+t+a,d=f.height(),g&&(h=g=!1,null==z&&(o.insertAfter(_),_.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(C),i=!0),l=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-D,r=o.outerHeight(!0),c=o.css("float"),_&&_.css({width:k(o),height:r,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:c}),i))return e()})(),r!==d)return u=void 0,m=D,w=j,e=function(){var t,a,i,e;if(!p&&(i=!1,null!=w&&(--w<=0&&(w=j,v(),i=!0)),i||y.height()===b||v(),i=V.scrollTop(),null!=u&&(a=i-u),u=i,g?(F&&(e=d+s<i+r+m,h&&!e&&(h=!1,o.css({position:"fixed",bottom:"",top:m}).trigger("sticky_kit:unbottom"))),i<l&&(g=!1,m=D,null==z&&("left"!==c&&"right"!==c||o.insertAfter(_),_.detach()),o.css(t={position:"",width:"",top:""}).removeClass(C).trigger("sticky_kit:unstick")),x&&((t=V.height())<r+D&&!h&&(m-=a,m=Math.max(t-r,m),m=Math.min(D,m),g&&o.css({top:m+"px"})))):l<i&&(g=!0,(t={position:"fixed",top:m}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(t).addClass(C),null==z&&(o.after(_),"left"!==c&&"right"!==c||_.append(o)),o.trigger("sticky_kit:stick")),g&&F&&(null==e&&(e=d+s<i+r+m),!h&&e)))return h=!0,"static"===f.css("position")&&f.css({position:"relative"}),o.css({position:"absolute",bottom:n,top:"auto"}).trigger("sticky_kit:bottom")},a=function(){return v(),e()},t=function(){if(p=!0,V.off("touchmove",e),V.off("scroll",e),V.off("resize",a),P(document.body).off("sticky_kit:recalc",a),o.off("sticky_kit:detach",t),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),f.position("position",""),g)return null==z&&("left"!==c&&"right"!==c||o.insertAfter(_),_.remove()),o.removeClass(C)},V.on("touchmove",e),V.on("scroll",e),V.on("resize",a),P(document.body).on("sticky_kit:recalc",a),o.on("sticky_kit:detach",t),setTimeout(e,0)}},i=0,e=this.length;i<e;i++)t=this[i],a(P(t));return this}}.call(this),function(h){"use strict";h(document).ready(function(){h("body");var t=h(".wp-header-end"),a=h(".botiga-dashboard-notice");t.length&&a.length&&(t.after(a),a.addClass("show"));var i=h(".botiga-dashboard-dismissable");i.length&&i.on("click",function(){i.parent().hide(),h.post(window.botiga_dashboard.ajax_url,{action:"botiga_dismissed_handler",nonce:window.botiga_dashboard.nonce,notice:i.data("notice")})});const e=h(".botiga-dashboard-tabs-nav");e.length&&e.each(function(){const o=h(this).data("tab-wrapper-id");h(this).find(".botiga-dashboard-tabs-nav-link").on("click",function(t){t.preventDefault();const a=h(this).closest(".botiga-dashboard-tabs-nav").find(".botiga-dashboard-tabs-nav-link"),i=h(this).data("tab-to");a.each(function(){h(this).closest(".botiga-dashboard-tabs-nav-item").removeClass("active")}),h(this).closest(".botiga-dashboard-tabs-nav-item").addClass("active");const e=h('.botiga-dashboard-tab-content-wrapper[data-tab-wrapper-id="'+o+'"]');e.find("> .botiga-dashboard-tab-content").removeClass("active"),e.find('> .botiga-dashboard-tab-content[data-tab-content-id="'+i+'"]').addClass("active"),"home"===i&&h(document.body).trigger("sticky_kit:recalc")})});a=h(".botiga-license-button");a.length&&a.on("click",function(t){var a=h(this);"activate"===a.data("type")?a.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.activating):a.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.deactivating)});a=h(".botiga-dashboard-plugin-ajax-button");a.length&&a.on("click",function(t){t.preventDefault();var e=h(this),a=e.attr("href"),i=e.data("slug"),o=e.data("type"),t=e.data("path"),n=e.html();e.addClass("botiga-ajax-progress"),e.parent().siblings(".botiga-dashboard-hero-warning").remove(),"install"===o?e.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.installing):"activate"===o?e.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.activating):"deactivate"===o&&e.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.deactivating),h.post(window.botiga_dashboard.ajax_url,{action:"botiga_plugin",nonce:window.botiga_dashboard.nonce,slug:i,type:o,path:t},function(t){if(t.success){if(e.hasClass("botiga-ajax-success-redirect"))return setTimeout(function(){e.html(window.botiga_dashboard.i18n.redirecting),setTimeout(function(){window.location=a},1e3)},500),!1;"install"===o?e.html(window.botiga_dashboard.i18n.deactivate).removeClass("botiga-dashboard-link-info").addClass("botiga-dashboard-link-danger").removeClass("loading").data("type","deactivate"):"deactivate"===o?e.html(window.botiga_dashboard.i18n.activate).removeClass("botiga-dashboard-link-danger").addClass("botiga-dashboard-link-success").removeClass("loading").data("type","activate"):e.html(window.botiga_dashboard.i18n.deactivate).removeClass("botiga-dashboard-link-success").addClass("botiga-dashboard-link-danger").removeClass("loading").data("type","deactivate"),e.removeClass("botiga-ajax-progress")}else t.data?(e.html(n),e.parent().after('<div class="botiga-dashboard-hero-warning">'+t.data+"</div>")):(e.html(n),e.parent().after('<div class="botiga-dashboard-hero-warning">'+window.botiga_dashboard.i18n.failed_message+"</div>"))}).fail(function(t,a,i){e.html(n),e.parent().after('<div class="botiga-dashboard-hero-warning">'+window.botiga_dashboard.i18n.failed_message+"</div>")})});const o=h(".botiga-dashboard-module-activation");o.length&&o.on("click",function(t){t.preventDefault();const a=h(this),i=a.data("module-id"),e=!!a.data("module-activate"),o=e?window.botiga_dashboard.i18n.activating:window.botiga_dashboard.i18n.deactivating,n=!!a.data("module-after-activation-redirect"),s=n?a.data("module-after-activation-redirect"):"";a.html('<i class="dashicons dashicons-update-alt"></i>'+o).removeClass("botiga-dashboard-link-success").addClass("loading"),h.post(window.botiga_dashboard.ajax_url,{action:"botiga_module_activation_handler",nonce:window.botiga_dashboard.nonce,module:i,activate:e},function(t){t.success&&(e?(a.html(window.botiga_dashboard.i18n.deactivate).removeClass("botiga-dashboard-link-success").addClass("botiga-dashboard-link-danger").removeClass("loading").data("module-activate",!1),a.parent().find(".botiga-dashboard-customize-link").removeClass("bt-d-none"),n&&(window.location=s)):(a.html(window.botiga_dashboard.i18n.activate).removeClass("botiga-dashboard-link-danger").addClass("botiga-dashboard-link-success").removeClass("loading").data("module-activate",!0),a.parent().find(".botiga-dashboard-customize-link").addClass("bt-d-none")))})});const n=h(".botiga-dashboard-module-activation-all");n.length&&n.on("click",function(t){t.preventDefault();const a=h(this),i=!!a.data("module-activate"),e=i?window.botiga_dashboard.i18n.activating:window.botiga_dashboard.i18n.deactivating;a.html(e).addClass("loading"),h.post(window.botiga_dashboard.ajax_url,{action:"botiga_module_activation_all_handler",nonce:window.botiga_dashboard.nonce,activate:i},function(t){t.success&&window.location.reload()})});const s=h("[data-bt-toggle-expand]");s.length&&(s.on("click",function(t){const a=h(this),i=a.find(".bt-toggle-expand-content");null===t.target.closest(".botiga-dashboard-content-expand-content")&&(a.hasClass("bt-collapsed")?(i.slideDown("fast"),a.removeClass("bt-collapsed")):(i.slideUp("fast"),a.addClass("bt-collapsed")))}),s.find(".botiga-dashboard-content-expand-link").on("click",function(t){t.preventDefault()})),h(".botiga-dashboard-sticky-wrapper").stick_in_parent({offset_top:54});const d=h(".botiga-dashboard-notifications-sidebar");d.length&&(h(".botiga-dashboard-theme-notifications").on("click",function(t){t.preventDefault();t=d.find(".botiga-dashboard-notification:first-child .botiga-dashboard-notification-date").data("raw-date");d.toggleClass("opened"),h(this).hasClass("read")||h.post(window.botiga_dashboard.ajax_url,{action:"botiga_notifications_read",latest_notification_date:t,nonce:window.botiga_dashboard.nonce},function(t){t.success&&setTimeout(function(){h(".botiga-dashboard-theme-notifications").addClass("read")},2e3)})}),h(window).on("scroll",function(){60<window.pageYOffset&&(d.addClass("closing"),setTimeout(function(){d.removeClass("opened"),d.removeClass("closing")},300))}),h(".botiga-dashboard-notifications-sidebar-close").on("click",function(t){t.preventDefault(),d.addClass("closing"),setTimeout(function(){d.removeClass("opened"),d.removeClass("closing")},300)}));const l=h("#save-templates");function r(){"sydney"!=h(".botiga-dashboard-container").data("theme")&&(h("#save-templates").removeClass("saved"),h(window).on("beforeunload",function(){if(!h("#save-templates").hasClass("saved"))return window.botiga_dashboard.i18n.unsaved_changes}))}l.length&&l.on("click",function(t){t.preventDefault(),h(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.saving);var p=[];h("#template-builder .template-item").each(function(){var t=h(this).data("id"),a=h(this).find('input[name="template_name"]').val(),i=h(this).find('input[name="conditions"]').val(),e=h(this).find('input[name="header"]').val(),o=h(this).find(".template-part.header").data("page-builder"),n=h(this).find('input[name="page_title"]').val(),s=h(this).find(".template-part.page_title").data("page-builder"),d=h(this).find('input[name="content"]').val(),l=h(this).find(".template-part.content").data("page-builder"),r=h(this).find('input[name="footer"]').val(),c=h(this).find(".template-part.footer").data("page-builder");p.push({id:t,template_name:a,header:e,header_builder:o,page_title:n,page_title_builder:s,content:d,content_builder:l,footer:r,footer_builder:c,conditions:i})}),h.post(window.botiga_dashboard.ajax_url,{action:"botiga_template_builder_data",data:p,nonce:window.botiga_dashboard.nonce},function(t){t.success&&(l.html(window.botiga_dashboard.i18n.saved),h("#save-templates").addClass("saved"),setTimeout(function(){l.html(window.botiga_dashboard.i18n.save),l.blur()},2e3))})}),h("#add-new-template").length&&h("#add-new-template").on("click",function(){var t=h("#template-builder .template-item").first().clone();t.attr("data-id","botiga-template-"+Math.random().toString(36).slice(2)),t.find("h4").replaceWith('<input type="text" placeholder="Template name" name="template_name" value="">'),t.find(".template-options").show(),t.find("input").val(""),t.find(".template-part").attr("data-part-active","inactive"),t.appendTo("#template-builder"),r()}),h(document).on("click",".part-options-toggle",function(){h(this).parent().find(".part-options").fadeToggle(100),h(this).find("span").toggleClass("dashicons-ellipsis dashicons-no-alt")}),h(document).on("click",".template-part-inner .not-selected",function(){h(this).parent().parent().find(".part-options").fadeToggle(100),h(this).parent().parent().next(".part-options-toggle").find("span").toggleClass("dashicons-ellipsis dashicons-no-alt")}),h(document).on("click",".template-options .delete-template",function(t){t.preventDefault(),h(this).closest(".template-item").fadeOut(300,function(){h(this).remove()}),r()}),h("#template-builder").sortable({opacity:.6,revert:!0,animation:150,cursor:"move",cancel:".not-sortable",handle:".sort-handle"}),h(document).on("click",".template-options .duplicate-template",function(t){t.preventDefault();t=h(this).closest(".template-item").clone();t.attr("data-id","botiga-template-"+Math.random().toString(36).slice(2)),t.insertAfter(h(this).closest(".template-item")).hide().fadeIn(300),r()}),h(document).on("click",".part-options .select-existing",function(){h(this).parent().parent().parent().find(".existing-parts-wrapper").fadeToggle(50),h(document).mouseup(function(t){var a=h(".existing-parts-wrapper");a.is(t.target)||0!==a.has(t.target).length||h(t.target).hasClass("select-existing")||a.fadeOut(50)})}),h(document).on("change",".existing-parts-select",function(){var t=h(this).closest(".template-item"),a=h(this).val(),i=h(this).parents(".template-part").data("part-type"),e=h(this).find(":selected").data("page-builder");t.find('input[name="'+i+'"]').val(a),a&&(h(this).parents(".template-part").attr("data-part-active","active"),h(this).parents(".template-part").attr("data-page-builder",e),h(this).parents(".template-part").find(".part-title").find(".selected").show().siblings().hide()),r()}),h(document).on("click",".part-options .reset",function(){var t=h(this).closest(".template-item"),a=h(this).parents(".template-part").data("part-type");t.find('input[name="'+a+'"]').val(""),h(this).parents(".template-part").attr("data-part-active","inactive"),h(this).parents(".template-part").find(".part-title").find(".not-selected").show().siblings().hide(),h(this).parent().fadeToggle(100),h(this).parents(".template-part").find(".part-options-toggle span").toggleClass("dashicons-ellipsis dashicons-no-alt"),r()}),h(document).on("click",".part-options .select-page-builder",function(){h(this).closest(".template-item");h(this).parent().parent().parent().find(".page-builder-wrapper").fadeToggle(50),h(document).mouseup(function(t){var a=h(".page-builder-wrapper");a.is(t.target)||0!==a.has(t.target).length||h(t.target).hasClass("select-page-builder")||a.fadeOut(50)})}),h(document).on("click",".page-builder-wrapper .create-new",function(){var a=h(this).closest(".template-item"),t=a.data("id"),i=h(this).parents(".template-part"),e=i.data("part-type"),o=h(".botiga-elementor-iframe-wrapper"),n=o.find(".botiga-elementor-iframe"),s=h(this).data("page-builder"),d=h(this).html();return h(this).html(d+'<i class="dashicons dashicons-update-alt page-builder-spinner" style="position:relative;top:10px;left:5px;"></i>'),h.post(window.botiga_dashboard.ajax_url,{action:"insert_template_part_callback",key:t,part_type:e,page_builder:s,nonce:window.botiga_dashboard.nonce},function(t){t.success&&(a.find('input[name="'+e+'"]').val(t.data.id),"elementor"==s?(n.attr("src",t.data.url),n.on("load",function(){o.show(),o.css("z-index","9999")}),h(document).on("click",".botiga-editor-close",function(){o.hide(),o.css("z-index","0")})):window.open(t.data.url,"_blank"),r(),i.attr("data-page-builder",s),setTimeout(function(){i.attr("data-part-active","active"),i.find(".part-title").find(".selected").show().siblings().hide(),h(".page-builder-spinner").remove()},3e3))}),!1}),h(document).on("click",".part-options .edit-part",function(){var a=h(this).parents(".template-part"),t=a.data("part-type"),i=h(this).text(),e=a.find('input[name="'+t+'"]').val(),o=h(".botiga-elementor-iframe-wrapper"),n=o.find(".botiga-elementor-iframe"),s=a.data("page-builder");h(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.loading),h.post(window.botiga_dashboard.ajax_url,{action:"edit_template_part_callback",key:e,part_type:t,page_builder:s,nonce:window.botiga_dashboard.nonce},function(t){t.success&&("elementor"==s?(n.attr("src",t.data.url),n.on("load",function(){o.show(),o.css("z-index","9999")}),h(document).on("click",".botiga-editor-close",function(){o.hide(),o.css("z-index","0")})):window.open(t.data.url,"_blank")),setTimeout(function(){a.find(".edit-part").html(i)},3e3)})}),h(document).on("botiga-display-conditions-select2-initalize",function(t,a){var i=h(a),e=(i.closest(".botiga-display-conditions-control"),i.find(".botiga-display-conditions-select2-type")),a=e.find("select"),o=i.find(".botiga-display-conditions-select2-condition").find("select"),n=i.find(".botiga-display-conditions-select2-id"),s=n.find("select");a.select2({width:"100%",minimumResultsForSearch:-1}),a.on("select2:select",function(t){e.attr("data-type",t.params.data.id)}),o.select2({width:"100%"}),o.on("select2:select",function(t){h(t.params.data.element).data("ajax")?n.removeClass("hidden"):n.addClass("hidden"),s.val(null).trigger("change")}),o.find(":selected").data("ajax")&&n.removeClass("hidden"),s.select2({width:"100%",placeholder:"",allowClear:!0,minimumInputLength:1,ajax:{url:window.botiga_dashboard.ajax_url,dataType:"json",delay:250,cache:!0,data:function(t){return{action:"botiga_templates_display_conditions_select_ajax",term:t.term,nonce:window.botiga_dashboard.nonce,source:o.val()}},processResults:function(t,a){return t.success?{results:t.data}:{}}}})}),h(document).on("click",".botiga-display-conditions-modal-toggle",function(t){t.preventDefault();var a=h(this),i=wp.template("botiga-display-conditions-template"),t=a.closest(".botiga-display-conditions-control"),a=t.find(".botiga-display-conditions-modal");a.data("initialized")?a.toggleClass("open"):(t.append(i(t.data("condition-settings"))),(i=t.find(".botiga-display-conditions-modal-content-list-item").not(".hidden")).length&&i.each(function(){h(document).trigger("botiga-display-conditions-select2-initalize",this)}),(a=t.find(".botiga-display-conditions-modal")).data("initialized",!0),a.addClass("open"))}),h(document).on("click",".botiga-display-conditions-modal",function(t){t.preventDefault();var a=h(this);h(t.target).is(a)&&h(".botiga-display-conditions-modal").removeClass("open")}),h(document).on("click",".botiga-display-conditions-modal-add",function(t){t.preventDefault();var a=h(this),i=a.closest(".botiga-display-conditions-control").find(".botiga-display-conditions-modal"),t=i.find(".botiga-display-conditions-modal-content-list"),i=i.find(".botiga-display-conditions-modal-content-list-item").first().clone(),a=a.data("condition-group");i.removeClass("hidden"),i.find(".botiga-display-conditions-select2-condition").not('[data-condition-group="'+a+'"]').remove(),t.append(i),h(document).trigger("botiga-display-conditions-select2-initalize",i)}),h(document).on("click",".botiga-display-conditions-modal-remove",function(t){t.preventDefault(),h(this).closest(".botiga-display-conditions-modal-content-list-item").remove()}),h(document).on("click",".botiga-display-conditions-modal-save",function(t){t.preventDefault();var a=[],i=h(this).closest(".botiga-display-conditions-control"),t=i.find(".botiga-display-conditions-modal"),i=i.find(".botiga-display-conditions-textarea");t.find(".botiga-display-conditions-modal-content-list-item").not(".hidden").each(function(){var t=h(this);a.push({type:t.find('select[name="type"]').val(),condition:t.find('select[name="condition"]').val(),id:t.find('select[name="id"]').val()})}),i.val(JSON.stringify(a)).trigger("change")})})}(jQuery);