!function(s){"use strict";s(document).ready(function(){var d=s("body"),a=s(".wp-header-end"),t=s(".botiga-dashboard-notice");a.length&&t.length&&(a.after(t),t.addClass("show"));var i=s(".botiga-dashboard-dismissable");i.length&&i.on("click",function(){i.parent().hide(),s.post(window.botiga_dashboard.ajax_url,{action:"botiga_dismissed_handler",nonce:window.botiga_dashboard.nonce,notice:i.data("notice")})});const o=s(".botiga-dashboard-tabs-nav");o.length&&o.each(function(){const d=s(this).data("tab-wrapper-id");s(this).find(".botiga-dashboard-tabs-nav-link").on("click",function(a){a.preventDefault();const t=s(this).closest(".botiga-dashboard-tabs-nav").find(".botiga-dashboard-tabs-nav-link"),i=s(this).data("tab-to");t.each(function(){s(this).closest(".botiga-dashboard-tabs-nav-item").removeClass("active")}),s(this).closest(".botiga-dashboard-tabs-nav-item").addClass("active");const o=s('.botiga-dashboard-tab-content-wrapper[data-tab-wrapper-id="'+d+'"]');o.find(".botiga-dashboard-tab-content").removeClass("active"),o.find('.botiga-dashboard-tab-content[data-tab-content-id="'+i+'"]').addClass("active")})});t=s(".botiga-license-button");t.length&&t.on("click",function(a){var t=s(this);"activate"===t.data("type")?t.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.activating):t.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.deactivating)});t=s(".botiga-dashboard-modal");t.length&&t.each(function(){var a=s(this),t=a.find(".botiga-dashboard-modal-button"),i=a.find(".botiga-dashboard-modal-close"),o=a.find(".botiga-dashboard-modal-overlay");t.on("click",function(a){a.preventDefault(),o.addClass("show"),d.addClass("botiga-dashboard-modal-opened")}),i.on("click",function(a){a.preventDefault(),d.removeClass("botiga-dashboard-modal-opened"),o.removeClass("show")}),o.on("click",function(a){a.preventDefault(),null===a.target.closest(".botiga-dashboard-modal-content")&&(d.removeClass("botiga-dashboard-modal-opened"),o.removeClass("show"))})});t=s(".botiga-dashboard-plugin-ajax-button");t.length&&t.on("click",function(a){a.preventDefault();var o=s(this),t=o.attr("href"),i=o.data("slug"),d=o.data("type"),a=o.data("path"),n=o.html();o.addClass("botiga-ajax-progress"),o.parent().siblings(".botiga-dashboard-hero-warning").remove(),"install"===d?o.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.installing):"activate"===d?o.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.activating):"deactivate"===d&&o.html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.deactivating),s.post(window.botiga_dashboard.ajax_url,{action:"botiga_plugin",nonce:window.botiga_dashboard.nonce,slug:i,type:d,path:a},function(a){a.success?"install"===d?(o.html('<i class="dashicons dashicons-saved"></i>'+window.botiga_dashboard.i18n.activated),setTimeout(function(){o.html(window.botiga_dashboard.i18n.redirecting),setTimeout(function(){window.location=t},1e3)},500)):window.location=t:a.data?(o.html(n),o.parent().after('<div class="botiga-dashboard-hero-warning">'+a.data+"</div>")):(o.html(n),o.parent().after('<div class="botiga-dashboard-hero-warning">'+window.botiga_dashboard.i18n.failed_message+"</div>"))}).fail(function(a,t,i){o.html(n),o.parent().after('<div class="botiga-dashboard-hero-warning">'+window.botiga_dashboard.i18n.failed_message+"</div>")})});t=s(".botiga-dashboard-activate-button");t.length&&t.on("click",function(a){s(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.activating)});t=s(".botiga-dashboard-deactivate-button");t.length&&t.on("click",function(a){s(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.botiga_dashboard.i18n.deactivating)})})}(jQuery);