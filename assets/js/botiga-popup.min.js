"use strict";var botiga=botiga||{};botiga.popup={domReady:function(t){if("function"==typeof t)return"interactive"===document.readyState||"complete"===document.readyState?t():void document.addEventListener("DOMContentLoaded",t,!1)},init:function(){var o=this,n=document.querySelectorAll(".has-popup");if(!n.length)return!1;var t=document.querySelector(".botiga-popup-wrapper .woocommerce-notices-wrapper .woocommerce-error");null!==t&&(t=t.closest(".botiga-popup").getAttribute("id"),t=document.getElementById(t),this.openPopup(t));for(var e=0;e<n.length;e++)!function(t){var e=n[t];e.addEventListener("click",function(t){t.preventDefault();t=document.getElementById(this.getAttribute("data-popup-id"));o.openPopup(t)}),"true"===e.getAttribute("data-auto-open")&&("string"==typeof(t=e.getAttribute("data-auto-open-delay"))?setTimeout(function(){e.dispatchEvent(new Event("click"))},1e3*parseInt(t)):e.dispatchEvent(new Event("click")))}(e);for(var i=document.querySelectorAll(".botiga-popup-wrapper__close-button"),a=0;a<i.length;a++)i[a].addEventListener("click",this.closePopup)},openPopup:function(t){var e=null!==document.getElementById("customize-preview-js");if(!e&&parseInt(t.getAttribute("data-cookie"))&&botiga.helpers.getCookie(t.getAttribute("data-cookie-name")))return!1;if(e){e=window.parent.window.document.querySelector(".control-section.open");if(null===e)return!1;if(!(0<e.id.indexOf("botiga_section_modal_popup")))return!1}t.classList.add("show"),setTimeout(function(){t.classList.add("transition-effect"),window.dispatchEvent(new Event("botiga.popup.opened"))},300),document.body.classList.add("disable-scroll")},closePopup:function(){event.preventDefault();for(var o=null!==document.getElementById("customize-preview-js"),n=document.querySelectorAll(".botiga-popup"),t=0;t<n.length;t++)!function(t){var e=n[t];!o&&parseInt(e.getAttribute("data-cookie"))&&botiga.helpers.setCookie(e.getAttribute("data-cookie-name"),1,e.getAttribute("data-cookie-expiration")),e.classList.remove("transition-effect"),setTimeout(function(){e.classList.remove("show"),document.body.classList.remove("disable-scroll"),window.dispatchEvent(new Event("botiga.popup.closed"))},300)}(t)}},botiga.popup.domReady(function(){botiga.popup.init()});