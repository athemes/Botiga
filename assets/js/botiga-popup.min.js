"use strict";var botiga=botiga||{};botiga.popup={domReady:function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},init:function(){var o=this,n=document.querySelectorAll(".has-popup");if(!n.length)return!1;var e=document.querySelector(".botiga-popup-wrapper .woocommerce-notices-wrapper .woocommerce-error");null!==e&&(e=e.closest(".botiga-popup").getAttribute("id"),e=document.getElementById(e),this.openPopup(e));for(var t=0;t<n.length;t++)!function(e){var e=n[e],t=document.getElementById(e.getAttribute("data-popup-id"));e.addEventListener("click",function(e){e.preventDefault(),o.openPopup(t)}),"true"===e.getAttribute("data-auto-open")&&("string"==typeof(e=e.getAttribute("data-auto-open-delay"))?setTimeout(function(){o.openPopup(t)},1e3*parseInt(e)):o.openPopup(t))}(t);for(var i=document.querySelectorAll(".botiga-popup-wrapper__close-button"),a=0;a<i.length;a++)i[a].addEventListener("click",this.closePopup)},openPopup:function(e){var t=null!==document.getElementById("customize-preview-js");if(!t&&parseInt(e.getAttribute("data-cookie"))&&botiga.helpers.getCookie(e.getAttribute("data-cookie-name")))return!1;if(t){t=window.parent.window.document.querySelector(".control-section.open");if(null===t)return!1;if(!(0<t.id.indexOf("botiga_section_modal_popup")))return!1}e.classList.add("show"),setTimeout(function(){e.classList.add("transition-effect"),window.dispatchEvent(new Event("botiga.popup.opened"))},300),document.body.classList.add("disable-scroll")},closePopup:function(){event.preventDefault();for(var o=null!==document.getElementById("customize-preview-js"),n=document.querySelectorAll(".botiga-popup"),e=0;e<n.length;e++)!function(e){var t=n[e];!o&&parseInt(t.getAttribute("data-cookie"))&&botiga.helpers.setCookie(t.getAttribute("data-cookie-name"),1,t.getAttribute("data-cookie-expiration")),t.classList.remove("transition-effect"),setTimeout(function(){t.classList.remove("show"),document.body.classList.remove("disable-scroll"),window.dispatchEvent(new Event("botiga.popup.closed"))},300)}(e)}},botiga.popup.domReady(function(){botiga.popup.init()});